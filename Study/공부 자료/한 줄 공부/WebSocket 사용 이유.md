웹 프로젝트에 채팅 기능을 구현해야 하는데 WebSocket을 사용해야 한다고 한다.
웹 소켓이 무엇이고, 왜 사용해야 하는지 간단하게 알아보자.

<br>

### HTTP 통신의 특징과 한계

HTTP 통신은 클라이언트와 서버 간 통신을 위한 전송 프로토콜이다.

**HTTP 기본 원리**

1. Client가 Server에게 받고 싶은 정보를 Request에 담아 전송한다.
2. Server는 Client의 Request에 맞는 Response를 준다.
3. Client는 Server에게 받은 데이터를 사용한다.

Client가 Server에 요청을 해야 Server가 그에 맞는 데이터를 제공해주는 방식이다.

그래서 HTTP 통신의 특징은 `Stateless`, `Connectionless` 가 있다.
요청/응답 후에는 연결이 끊어져 독립된 상태를 유지한다.

---
### WebSocket

> 웹 소켓은 클라이언트에서 주기적으로 서버 측에 데이터 확인 요청을 하는 Polling 기법과 달리 새로운 데이터가 들어오면 서버가 먼저 클라이언트에게 데이터를 전송하는 기술이다.

실시간 채팅 기능을 구현하기 위해서는 HTTP 통신의 기존 방법으로는 한계가 있다.

채팅이 이루어지려면

1. Client가 Server에게 메세지를 전송하고, 
2. Server는 그 메세지를 다른 Client에게 전송해야 한다.

하지만 기본적으로 Client가 요청을 해야 Server가 응답을 줄 수 있으므로 2번 행위가 불가능하다.

물론 기존 방식으로 해결할 수 있긴하다.

1. ajax의 비통기 통신을 통해 주기적으로 Server한테 자신에게 보낼 정보가 있는지 Check하는 요청을 보낸다. (Polling 기법)
2. 페이지가 이동할 때마다 자신에게 온 정보가 있는지 함께 요청한다.

위 방법은 문제점이 있는데, 
1번은 주기적으로 ajax를 사용해야 하므로 서버에 무리가 갈 수 있고, 실시간도 아니다.
2번은 페이지를 이동할 때만 받아올 수 있기 때문에 채팅이라고 할 수 없다.

이를 보완하기 위해 웹 소켓이 등장했다.
웹 소켓은 IETF에 의해 RFC 6455로 표준화된 기술이다.
HTTP 와 다르게 전이중 통신을 지원하기 때문에 Client 요청 없이 Server가 Client에게 정보를 전송할 수 있다.