# Redis

RDBMS는 대용량 데이터 저장, 비정형 데이터 저장, 빠른 응답시간 등의 새로운 요구사항에 기존 RDBMS로 대응하기 어려울 때가 있다.
그럴 때 기존 RDBMS와 차별적인 강점을 갖춘 DBMS, NoSQL을 찾게 된다.

Redis(Remote Dictionary Server)는 모든 데이터를 메모리에 저장하고 조회하는 in-memory DB, 모든 데이터를 메모리로 불러와서 처리하는 메모리 기반의 key-value 구조의 데이터 관리 시스템(DBMS)이다. 일종의 NoSQL이다.

다양한 인 메모리 구조 집합을 제공하므로 다양한 사용자 정의 애플리케이션을 손쉽게 정의할 수 있다. 레디스의 주요 적용 사례는 캐싱, 세션 관리, pub/sub 을 들 수 있다. 

속도가 빠르고 사용이 간편하여 웹, 모바일, 게임, 광고 기술 및 IoT 등에서 사용된다.
AWS는 레디스용 Amazon ElasticCache라는 최적화된 완전 관리형 DB 서비스를 통해 레디스를 지원한다.

Redis는 세계에서 가장 인기있는 Key-Value Store 중 하나이다. Key로 올 수 있는 자료형은 기본적으로 String이지만, Value는 다양한 타입을 지원한다.

메모리 기반의 데이터베이스이기 때문에 Disk를 기반으로 하는 RDBMS보다 Read가 빠르다.

## Java HashMap과 비교

Radis는 Java의 HashMap과 유사하다. 둘 다 key-value 기반이고, 메모리 베이스이며, 원하는 value를 원하는 방식으로 넣을 수 있다.

![[Pasted image 20240627174917.png]]

그러면 개발할 때 HashMap을 사용하지 왜 굳이 Redis 연동 클라이언트를 쓰면서까지 사용할까?

Redis는 서버가 한 대 있다는 가정하엔 큰 장점은 보이지 않지만, 분산 환경에서 장점을 나타낸다.

## 분산 환경에서의 장점

유저 요청이 크게 늘어나 서버를 몇 대 증설하였지만, 동일한 해쉬맵 데이터를 참조해야하는 상황이라고 가정할 때,
원격 프로세스 간 동일한 해쉬맵 데이터를 참조해야 할 때, 분산 환경에서는 원격 프로세스 간 데이터를 동기화 하기 어렵다.

![[Pasted image 20240627175202.png]]

이 때, 별도의 Redis 서버를 구성하고, 해당 레디스에서 값을 꺼내 쓴다면 메모리 기반 데이터 구조의 빠른 응답성을 확보함과 동시에 데이터 불일치 문제도 해결할 수 있다.

![[Pasted image 20240627175315.png]]

## DBMS로서의 장점

애플리케이션은 종료하면 사라지는 HashMap과 달리, Redis는 다양한 영속성(디스크에 백업) 옵션을 제공한다.

영속성 외에도 Java에서 다루기 까다로운 여러 기능도 DBMS로써 갖추고 있다.
- TTL 설정 - 일정 시간이 지나면 데이터 삭제, 용량이 작은 메모리의 효율적 관리
- 분산 데이터 저장소 구성 - Redis Cluster 등 분산 환경에서 안정적인 데이터 관리 가능
- 보안 체계 - 악성 스크립트 공격으로부터 안전 보장, TLS 지원

