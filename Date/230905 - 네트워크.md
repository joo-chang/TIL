[[Study/기술 정리/Computer Science/네트워크]]

### 세션 기반 인증과 토큰 기반 인증의 차이

세션 기반 인증은 클라이언트로부터 요청을 받으면 클라이언트의 상태 정보를 저장하므로 Stateful한 구조를 가지고, 토큰 기반 인증은 상태 정보를 서버에 저장하지 않으므로 Stateless 한 구조를 가진다.

#### Stateful한 세션 기반의 인증 방식의 단점

1. 서버에 세션을 저장하기 때문에 사용자가 증가하면 서버에 과부화를 줄 수 있어 확장성이 낮다.
2. 해커가 훔친 쿠키를 이용해 요청을 보내면 서버는 올바른 사용자가 보낸 요청인지 알 수 없다. (세션 하이재킹 공격)


#### 세션 기반 인증과 토큰 기반 인증은 어느 경우에 적합한가?

단일 도메인이라면 세션 기반 인증을 사용하고, 아니라면 토큰 기반 인증을 사용하는 것이 적합하다고 생각한다.
세션을 관리할 때, 사용되는 쿠키는 단일 도메인 및 서브 도메인에서만 작동하도록 설계되어 있기 때문에 여러 도메인에서 관리하는 것이 어렵다. (CORS 문제)


---
### JWT 토큰에 대해 설명

JWT는 JSON 포맷을 이용하는 Claim 기반의 웹 토큰이며, 토큰 자체를 정보로 사용하는 Self-Contained 방식으로 정보를 안전하게 전달한다.

JWT는 헤더, 내용, 서명으로 구성되며 각 파트를 점(.)으로 구분한다.

- 헤더(Header)
	- 토큰의 타입과 해시 암호화 알고리즘으로 이루어져 있다.
- 내용(Payload) 
	- 토큰에 사용자가 담고자 하는 정보를 담는다. 내용에는 Claim이 담겨있고, JSON(Key/Value)형태의 한 쌍으로 이루어져 있다.
- 서명(Signature)
	- 토큰을 인코딩하거나 유효성 검증을 할 때 사용하는 고유한 암호화 코드이다. 헤더와 내용의 값을 인코딩 한다.

