## Token

1.3 createToken

UserService.createToken

```java
public String createToken(LoginRequest loginRequest) {
	User user = userRepository.findByName(loginRequest.getName()) 
	.orElseThrow(IllegalArgumentException::new); 
	//비밀번호 확인 등의 유효성 검사 진행 
	return jwtTokenProvider.createToken(user.getName()); 
}
```

핵심 - jwtTokenProvider.createToken   
jwt 방식을 이용하여 토큰을 생성하려면 라이브러리를 추가해야 한다.

```
implementation 'io.jsonwebtoken:jjwt:0.9.1'
```

```java
@Component
public class JwtTokenProvider{
	private String secretKey;
	private long validityInMilliseconds;

	public JwtTokenProvider(@Value("${security.jwt.token.secret-key}") 
	String secretKey, @Value("${security.jwt.token.expire-length}") 
	long validityInMilliseconds){
		this.secretKey = 
		Base64.getEncoder().encodeToString(secretKey.getBytes());
		this.validityInMilliseconds = validityInMilliseconds;
	}

	// 토큰 생성
	public String createToken(String subject){
		Claims claims = Jwts.claims().setSubject(subject);
		Date now = new Date();
		Date validity = new Date(now.getTime() + validityInMilliseconds);
	
		return Jwts.builder()
							.setClaims(claims
}
```